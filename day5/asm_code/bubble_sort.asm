LXI H,2000H
MVI D,05H
DCR D

OUTER: MVI C,05H
LXI H,2000H

INNER: MOV A,M
INX H
CMP M
JC NEXT
MOV B,M
MOV M,A
DCX H
MOV M,B
INX H
NEXT: DCR C
JNZ INNER

DCR D
JNZ OUTER
HLT
